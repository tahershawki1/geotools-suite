<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dubai DLTM Converter - GeoTools Suite</title>
  
  <!-- SEO Meta Tags -->
  <meta name="description" content="Convert Dubai Local Transverse Mercator (DLTM) coordinates to WGS84 and vice versa. Supports single and batch conversion with multiple output formats including DMS, Decimal Degrees, and DDM." />
  <meta name="keywords" content="DLTM converter, Dubai coordinates, Dubai Local Transverse Mercator, WGS84, coordinate conversion, Dubai surveying, UAE coordinates, batch conversion" />
  <meta name="author" content="Taher Shawki" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="https://tahershawki1.github.io/geotools-suite/pages/dltm-converter.html" />
  
  <!-- Open Graph / Social Media Meta Tags -->
  <meta property="og:title" content="Dubai DLTM Converter - GeoTools Suite" />
  <meta property="og:description" content="Convert between Dubai DLTM and WGS84 coordinates with single and batch processing" />
  <meta property="og:type" content="website" />
  <meta property="og:url" content="https://tahershawki1.github.io/geotools-suite/pages/dltm-converter.html" />
  
  <!-- Twitter Card Meta Tags -->
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Dubai DLTM Converter - GeoTools Suite" />
  
  <!-- Security Headers -->
  <meta http-equiv="X-Content-Type-Options" content="nosniff" />
  <meta http-equiv="X-Frame-Options" content="SAMEORIGIN" />
  <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin" />
  
  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="../favicon.ico" />
  
  <link rel="stylesheet" href="../styles.css" />
  <link rel="stylesheet" href="./css/dltm-converter.css" />
  <link rel="stylesheet" href="../vendor/leaflet/leaflet.css" />
  <script src="../vendor/leaflet/leaflet.js"></script>
  <script src="./js/dltm-converter.js"></script>
</head>
<body>
<div class="container-dltm">
  <header style="text-align: center; margin-bottom: 2rem; padding: 1rem;">
    <h1 style="color: #0f766e; margin-bottom: 0.5rem;">Dubai DLTM Converter</h1>
    <p style="color: #6b7280; font-size: 1rem;">Convert between Dubai Local Transverse Mercator and WGS84 coordinates</p>
  </header>
  
  <div class="dltm-tabs">
    <div class="dltm-tab active" onclick="switchDltmTab(this, 'single')">
      Single Conversion
    </div>
    <div class="dltm-tab" onclick="switchDltmTab(this, 'batch')">
      Batch Conversion (CSV)
    </div>
    <div class="dltm-tab" onclick="switchDltmTab(this, 'reverse')">
      WGS84 → DLTM
    </div>
  </div>

  <div class="content-dltm">
    <!-- Single Conversion -->
    <div id="section-single" class="tool-section active">
      <div class="input-grid">
        <div class="input-group">
          <label>Easting (X)</label>
          <input type="number" id="inp-e" placeholder="500000.00" />
        </div>
        <div class="input-group">
          <label>Northing (Y)</label>
          <input type="number" id="inp-n" placeholder="2768000.00" />
        </div>
      </div>

      <div
        style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 12px"
      >
        <div class="input-group" style="flex: 1; min-width: 220px">
          <label>Output Format</label>
          <select
            id="out-format"
            style="
              width: 100%;
              padding: 12px 15px;
              border-radius: 12px;
              border: 1px solid var(--border);
            "
          >
            <option value="dms">DMS (D°M'S")</option>
            <option value="dd">Decimal Degrees</option>
            <option value="ddm">DDM (D°MM.mmm')</option>
          </select>
        </div>
        <div class="input-group" style="flex: 1; min-width: 220px">
          <label>Precision</label>
          <select
            id="out-prec"
            style="
              width: 100%;
              padding: 12px 15px;
              border-radius: 12px;
              border: 1px solid var(--border);
            "
          >
            <option value="8">Decimal: 8</option>
            <option value="6">Decimal: 6</option>
            <option value="4">Decimal: 4</option>
          </select>
        </div>
        <button
          class="btn-nav-top"
          title="Clear saved data"
          onclick="clearLastInputs()"
        >
          🗑️ Clear
        </button>
      </div>
      <button
        class="btn-calc"
        id="btn-convert-single"
        onclick="runSingleDltm()"
      >
        Convert Now ✨
      </button>

      <div id="res-box-single" class="result-card">
        <div class="result-head">
          <div>
            <div class="result-title">Output coordinates</div>
            <div class="result-sub">Format: D°M'S"</div>
          </div>

          <div class="result-actions">
            <button class="btn-mini" onclick="copySingle('dms')">
              Copy DMS
            </button>
            <button class="btn-mini" onclick="copySingle('dd')">
              Copy Decimal
            </button>
            <button class="btn-mini" onclick="copySingle('utm')">
              Copy UTM
            </button>
          </div>
        </div>

        <div class="result-grid-2">
          <div class="result-field">
            <div class="field-label">Longitude</div>

            <div class="field-line">
              <span class="field-name">DMS:</span>
              <span class="field-value" id="res-lon-dms">-</span>
            </div>

            <div class="field-line">
              <span class="field-name">Decimal:</span>
              <span class="field-hint" id="res-lon-dd">-</span>
            </div>
          </div>

          <div class="result-field">
            <div class="field-label">Latitude</div>

            <div class="field-line">
              <span class="field-name">DMS:</span>
              <span class="field-value" id="res-lat-dms">-</span>
            </div>

            <div class="field-line">
              <span class="field-name">Decimal:</span>
              <span class="field-hint" id="res-lat-dd">-</span>
            </div>
          </div>
        </div>

        <div class="result-grid-3">
          <div class="result-field">
            <div class="field-label">UTM Zone</div>
            <div class="field-value" id="res-utm-z">-</div>
          </div>

          <div class="result-field">
            <div class="field-label">UTM Easting</div>
            <div class="field-value" id="res-utm-e">-</div>
          </div>

          <div class="result-field">
            <div class="field-label">UTM Northing</div>
            <div class="field-value" id="res-utm-n">-</div>
          </div>
        </div>

        <div class="result-note" id="res-note"></div>
      </div>

      <div id="mapBox" style="margin-top: 14px; display: none">
        <div
          style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 10px"
        >
          <button class="btn-nav-top" onclick="openGoogleMapsLink()">
            🌍 Open in Google Maps
          </button>
          <button class="btn-nav-top" onclick="downloadSingleKml()">
            Save KML
          </button>
        </div>
        <div
          id="map"
          style="
            height: 320px;
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
          "
        ></div>
      </div>
    </div>

    <!-- Batch Conversion -->
    <div id="section-batch" class="tool-section">
      <div style="margin-bottom: 14px">
        <label style="display: block; font-weight: 900; margin-bottom: 8px"
          >Choose Batch Conversion Type:</label
        >
        <div style="display: flex; gap: 10px; margin-bottom: 12px">
          <label
            style="
              display: flex;
              align-items: center;
              gap: 6px;
              cursor: pointer;
            "
          >
            <input
              type="radio"
              name="batch-direction"
              value="dltm-to-wgs"
              checked
              onchange="switchBatchDirection('dltm-to-wgs')"
            />
            DLTM → WGS84
          </label>
          <label
            style="
              display: flex;
              align-items: center;
              gap: 6px;
              cursor: pointer;
            "
          >
            <input
              type="radio"
              name="batch-direction"
              value="wgs-to-dltm"
              onchange="switchBatchDirection('wgs-to-dltm')"
            />
            WGS84 → DLTM
          </label>
        </div>
      </div>

      <div style="margin-bottom: 14px">
        <label style="display: block; font-weight: 900; margin-bottom: 8px"
          >Paste Coordinates (instead of uploading file)</label
        >
        <textarea
          id="batchPaste"
          rows="8"
          placeholder="Example:
489817.908,2768047.013
489790.938,2768033.067
Or with commas/spaces/Tab"
          style="
            width: 100%;
            padding: 12px;
            border-radius: 14px;
            border: 1px solid var(--border);
            font-family: monospace;
          "
        ></textarea>

        <div
          style="display: flex; gap: 10px; flex-wrap: wrap; margin-top: 10px"
        >
          <button class="btn-nav-top" onclick="runBatchFromPaste()">
            Convert Paste
          </button>
          <button
            class="btn-nav-top"
            onclick="document.getElementById('batchPaste').value = ''"
          >
            Clear
          </button>

          <div
            style="
              margin-left: auto;
              display: flex;
              gap: 10px;
              align-items: center;
            "
          >
            <label style="font-weight: 900; color: var(--text-muted)"
              >Export:</label
            >
            <select
              id="batchExportType"
              style="
                padding: 10px 12px;
                border-radius: 12px;
                border: 1px solid var(--border);
              "
            >
              <option value="csv">CSV</option>
              <option value="kml">KML</option>
              <option value="geojson">GeoJSON</option>
            </select>
          </div>
        </div>
      </div>
      <div
        class="batch-dropzone"
        onclick="document.getElementById('batchFile').click()"
      >
        <span style="font-size: 40px">📄</span>
        <h3 style="margin: 10px 0">Click to Upload CSV File</h3>
        <p style="font-size: 13px; color: var(--text-muted)">
          File must contain columns (E, N) and optionally (PointID, Code)
        </p>
        <input
          type="file"
          id="batchFile"
          style="display: none"
          accept=".csv,.txt"
          onchange="handleBatchFile(this)"
        />
      </div>

      <div class="results-table-wrap" id="batchResultsWrap">
        <div
          style="
            padding: 15px;
            background: #fff;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
          "
        >
          <strong id="batchCount">0 points converted</strong>
          <button class="btn-nav-top" onclick="downloadBatch()">
            Download 💾
          </button>
        </div>
        <div style="max-height: 400px; overflow-y: auto">
          <table id="batchTable">
            <thead>
              <tr>
                <th>POINT</th>
                <th>ID</th>
                <th>N_DLTM</th>
                <th>E_DLTM</th>
                <th>Z_DLTM</th>
                <th>Code</th>
                <th>UTM_N</th>
                <th>UTM_E</th>
                <th>UTM_Z</th>
                <th>Latitude</th>
                <th>Longitude</th>
                <th>altitude</th>
                <th>code</th>
              </tr>
            </thead>
            <tbody></tbody>
          </table>
        </div>
      </div>
    </div>

    <!-- Reverse Conversion (WGS84 → DLTM) -->
    <div id="section-reverse" class="tool-section">
      <div style="margin-bottom: 12px">
        <label style="display: block; font-weight: 900; margin-bottom: 8px"
          >Choose Input Type:</label
        >
        <div style="display: flex; gap: 10px; margin-bottom: 12px">
          <label
            style="
              display: flex;
              align-items: center;
              gap: 6px;
              cursor: pointer;
            "
          >
            <input
              type="radio"
              name="rev-input-type"
              value="wgs84"
              checked
              onchange="switchReverseInputType('wgs84')"
            />
            WGS84 (Lat/Lon)
          </label>
          <label
            style="
              display: flex;
              align-items: center;
              gap: 6px;
              cursor: pointer;
            "
          >
            <input
              type="radio"
              name="rev-input-type"
              value="utm"
              onchange="switchReverseInputType('utm')"
            />
            UTM
          </label>
        </div>
      </div>

      <!-- WGS84 Input -->
      <div id="wgs84-inputs" class="input-grid">
        <div class="input-group">
          <label>Longitude</label>
          <input type="number" id="inp-lon" placeholder="55.123456" />
        </div>
        <div class="input-group">
          <label>Latitude</label>
          <input type="number" id="inp-lat" placeholder="25.123456" />
        </div>
      </div>

      <!-- UTM Input (hidden by default) -->
      <div id="utm-inputs" class="input-grid" style="display: none">
        <div class="input-group">
          <label>UTM Zone</label>
          <input
            type="text"
            id="inp-utm-zone"
            placeholder="40N"
            maxlength="3"
          />
        </div>
        <div class="input-group">
          <label>Easting (meters)</label>
          <input
            type="number"
            id="inp-utm-e"
            placeholder="500000"
            step="0.01"
          />
        </div>
        <div class="input-group">
          <label>Northing (meters)</label>
          <input
            type="number"
            id="inp-utm-n"
            placeholder="2768000"
            step="0.01"
          />
        </div>
      </div>

      <div
        style="display: flex; gap: 10px; flex-wrap: wrap; margin-bottom: 12px"
      >
        <button class="btn-calc" style="flex: 1" onclick="runReverseDltm()">
          Convert Now ✨
        </button>
        <button class="btn-nav-top" onclick="showOnMapFromWgs()">
          Show on Map
        </button>
        <button
          class="btn-nav-top"
          title="Clear saved data"
          onclick="clearLastInputs()"
        >
          🗑️ Clear
        </button>
      </div>

      <div id="reverse-box" class="result-card">
        <div class="result-head">
          <div>
            <div class="result-title">DLTM Output</div>
            <div class="result-sub">TM (Dubai Local) – meters</div>
          </div>
          <div class="result-actions">
            <button class="btn-mini" onclick="copyReverse('dltm')">
              Copy DLTM
            </button>
            <button class="btn-mini" onclick="copyReverse('wgs')">
              Copy WGS84
            </button>
          </div>
        </div>

        <div class="result-grid-2">
          <div class="result-field">
            <div class="field-label">Easting (DLTM)</div>
            <div class="field-line">
              <span class="field-name">E:</span
              ><span class="field-value" id="res-dltm-e">-</span>
            </div>
          </div>
          <div class="result-field">
            <div class="field-label">Northing (DLTM)</div>
            <div class="field-line">
              <span class="field-name">N:</span
              ><span class="field-value" id="res-dltm-n">-</span>
            </div>
          </div>
        </div>

        <div class="result-note" id="reverse-note"></div>
      </div>
    </div>
  </div>
</div>

<div class="standalone-footer" data-standalone-only="true" style="text-align: center; padding: 20px; margin-top: 40px; border-top: 1px solid #e2e8f0; color: #64748b; font-size: 14px;">
  <p>&copy; 2026 All rights reserved - GeoTools Suite</p>
</div>
</body>
</html>


