# GeoTools Suite - مجموعة أدوات المساحة

## نظرة عامة

مجموعة متكاملة من أدوات المساحة والإحداثيات المتقدمة تعمل في المتصفح بدون تثبيت:

- **محول الملفات (SDR)**: تحويل ملفات CSV/TXT إلى صيغة SDR مع عرض على الخريطة
- **محول DLTM (دبي)**: تحويل الإحداثيات بين نظام DLTM المحلي و WGS84 العالمي
- **حساب المساحات**: أداة هندسية لحساب مساحات ومحيط المضلعات
- **تحويل الإحداثيات**: تحويل بين أنظمة مختلفة (UTM, WGS84, إلخ)

---

## البدء السريع

### متطلبات النظام

- متصفح حديث (Chrome, Firefox, Safari, Edge)
- خادم ويب محلي بسيط

### طريقة التشغيل

#### الطريقة 1: Python (الأسهل)

```bash
cd c:\Dev\geotools-suite
python -m http.server 8000
```

افتح المتصفح: **http://localhost:8000/docs/index.html**

#### الطريقة 2: Node.js

```bash
cd c:\Dev\geotools-suite\docs
npx http-server
```

#### الطريقة 3: Live Server في VS Code

1. ثبّت إضافة "Live Server"
2. انقر بزر الماوس الأيمن على `docs/index.html`
3. اختر "Open with Live Server"

---

## بنية المشروع

```
geotools-suite/
├── README.md                 # هذا الملف
├── docs/
│   ├── index.html           # الصفحة الرئيسية (SPA)
│   ├── Converter.html       # محول الملفات
│   ├── DLTM.html           # محول DLTM دبي
│   ├── Transform.html       # تحويل الإحداثيات
│   ├── Service2.html        # حساب المساحات
│   ├── MAP_DEBUG.js         # أداة اختبار الخرائط
│   ├── vendor/
│   │   └── leaflet/         # مكتبة الخرائط المحلية
│   └── MAP_FIXES_SUMMARY.txt
```

---

## الميزات التقنية

✅ **بدون إنترنت**: تعمل بالكامل دون اتصال (ما عدا Google Maps)
✅ **واجهة عربية كاملة**: دعم العربية و RTL
✅ **حفظ البيانات**: تخزين محلي للمدخلات الأخيرة
✅ **سريع ومستقيم**: بدون مكتبات ثقيلة غير ضرورية

### التقنيات المستخدمة

- Leaflet.js: رسم الخرائط التفاعلية
- Proj4js: تحويل الإحداثيات
- Local Storage: حفظ البيانات محلياً

---

## الإصلاحات الأخيرة (فبراير 2026)

✅ توحيد تحميل Leaflet (استخدام النسخة المحلية فقط)
✅ إزالة التحميل المكرر للمكتبات
✅ تحسين طريقة تنفيذ السكربتات (بدلاً من eval)
✅ تنظيف DOM محسّن عند التنقل
✅ معالجة أفضل للأخطاء و console logging

---

## استكشاف الأخطاء

### الخريطة لا تظهر؟

1. افتح DevTools (`F12`)
2. تحقق من console للأخطاء
3. تأكد من مسار `vendor/leaflet/leaflet.js`

### تحويل الإحداثيات لا يعمل؟

- تحقق من Proj4js في `index.html`
- استخدم صيغة صحيحة: `25.2048` (عشرية)

### البيانات المحفوظة اختفت؟

- امسح localStorage: DevTools → Storage → Clear All
- أعد تحميل الصفحة

---

**آخر تحديث**: 7 فبراير 2026
